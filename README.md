# Currency-Exchange-API

---
Currency Exchange API — это высокопроизводительное и масштабируемое RESTful API,
разработанное на основе современного фреймворка FastAPI.

Проект предоставляет пользователям возможность получать актуальные курсы 
обмена валют в режиме реального времени, выполнять конвертацию между различными 
валютами. Функциональные конечные точки защищены, доступ к ним предоставляется 
после безопасной регистрацией пользователей с подтверждением электронной почты 
через SMTP и надежной аутентификацией с использованием JWT. 

В проекте для получения актуальных курсов валют существует интеграция с внешним 
API сервисом - [APILayer](https://apilayer.com/marketplace/currency_data-api)



## Перед стартом - обязательно!

---
0.  В корне создайте файл `.env` и наполните его в предложенном формате 
    в `example.env`

## Старт на localhost - вручную

---
1. Если у вас нет виртуального окружения, то создайте и активируйте его
```shell
    python -m venv venv
```
```shell
    venv\Scripts\activate.bat
```

2. Обновите pip и установите необходимые зависимости
```shell
    python.exe -m pip install --upgrade pip
```
```shell
    pip install -r requirements.txt
```
3. Примените существующие миграций
```bash 
   alembic upgrade head
```
4. Запустите сервер
```shell
    uvicorn main:app --reload
```


## Миграции БД

---

В проекте используется **Alembic** — мощный инструмент для управления 
миграциями базы данных, который интегрирован с **PostgreSQL**. 
Alembic позволяет легко создавать, применять и откатывать изменения в структуре
базы данных. Для работы с базой данных используется **SQLAlchemy** — популярная
**ORM** библиотека **Python**, которая обеспечивает удобное взаимодействие с
реляционными БД через **ООП**.

Для работы с базой данных используется **асинхронный подход**, что обеспечивает 
высокую производительность, это позволяет эффективно обрабатывать запросы к 
базе данных без блокировки основного потока выполнения.

Подключение к БД осуществляется в связке `postgresql+asyncpg`

### Для работы с миграциями следует использовать следующие команды:

- Первый анализ изменений в БД и создание миграции

    В репозитории уже есть начальные миграции (Можно не использовать).
    ```bash
      alembic revision --autogenerate -m 'initial'
    ```

- Анализ изменений в БД и создание миграции
    ```bash
      alembic revision --autogenerate -m 'migration_name'
    ```

- Применение миграции (Изменение DDL в БД)
    ```bash
      alembic upgrade head
    ```

- Откатить изменения назад
    ```bash
      alembic downgrade -1
    ```


## Интеграция с внешним API

---
Этот проект интегрируется с внешним API обмена валют для получения актуальных
курсов обмена и информации о валютах в реальном времени. Использовался 
следующий внешний API:

- **API Name:** [Currency Data API](https://apilayer.com/marketplace/currency_data-api)
- **Provider:** APILayer
- **Endpoint Base URL:** `https://api.apilayer.com/currency_data`

Для использования этого API вам понадобится ключ API, который можно получить,
зарегистрировав бесплатную учетную запись 
на [сайте APILayer](https://apilayer.com/).
**Ключ API должен храниться в файле `.env`**



## Обратная связь

---
Если у вас есть вопросы или вам нужна поддержка, свяжитесь со мной 
в телеграмме [@qdi2k](https://t.me/qdi2kZ)
